version: 1
updated_at: "2026-02-13T16:10:00Z"
current_phase: "Telegram Bridge + UX Stabilization"
next_session_focus: "Convert Telegram logs into created-item cards directly (PARA/Transaction/Module) with action parity to web chat"
post_phase_tasks:
  - id: "T0"
    title: "Tune performance/reliability quick wins"
    status: "done"
    notes: "P0 completed: frontend lazy bundle split + manual vendor chunks, agent query slimming in useAgentData, timeout/retry policy for LINE/Gemini endpoint paths."
  - id: "T1"
    title: "Continue tuning with P1 items"
    status: "pending"
    notes: "Queued after UX Mission Control polish: retrieval benchmark expansion, hot-query DB index review, and observability baseline."
  - id: "T2"
    title: "Mission Control UI V1 rollout"
    status: "done"
    notes: "Shell/theme converted to mission-control, unified focus queue added, mission dashboard with KPI + SVG charts, agent board redesigned, and floating chat widget overlay released."
  - id: "T3"
    title: "Mission Control UX polish + QA"
    status: "done"
    notes: "Completed: card style harmonization across PARA/Finance/Review boards, chat widget UX polish (ESC close + compact mode + mobile behavior), and responsive QA fixes."
  - id: "T4"
    title: "Telegram bridge parity for chat cards"
    status: "ready"
    notes: "Telegram messages now flow into web chat stream from system_logs, but special UI cards (created item card etc.) are not yet generated directly from Telegram logs."
phases:
  - id: "Phase A"
    title: "Infra Unblock + Go-Live Path"
    priority: "P0"
    status: "done"
    exit_criteria:
      - "agent_runs has SUCCESS row from real daily run"
      - "memory_summaries has latest DAILY summary"
      - "Agent tab can read latest run + summary"
    tasks:
      - id: "A1"
        title: "Apply DB migrations (phase1 + phase2)"
        status: "done"
        notes: "Applied successfully via psql. Verified required tables/functions exist."
      - id: "A2"
        title: "Run ingest smoke test"
        status: "done"
        notes: "Passed: npm run agent:ingest:no-embed and npm run agent:ingest (embed=true)."
      - id: "A3"
        title: "Run orchestrator dry and full"
        status: "done"
        notes: "Passed: npm run agent:daily:dry and npm run agent:daily (SUCCESS runs recorded)."
  - id: "Phase B"
    title: "Morning Workflow Reliability"
    priority: "P0"
    status: "done"
    tasks:
      - id: "B1"
        title: "UI run state and retry flow"
        status: "done"
        notes: "Added run timeout, retryable error messages, and force-run button in Agent UI."
      - id: "B2"
        title: "Error visibility and user-safe fallback"
        status: "done"
        notes: "Added API error hints, RAG fail-safe fallback, and timezone-aware run date."
  - id: "Phase C"
    title: "Retrieval Quality (RAG v2)"
    priority: "P1"
    status: "done"
    tasks:
      - id: "C1"
        title: "Benchmark IVFFlat vs HNSW"
        status: "done"
        notes: "Benchmark script added and executed. Result: HNSW avg 0.926ms vs IVFFlat avg 0.933ms on 12 samples (source rows=105)."
      - id: "C2"
        title: "Add retrieval diagnostics metrics"
        status: "done"
        notes: "Added metrics.retrieval and metrics.generation fields in agent_runs; verified on latest SUCCESS run."
  - id: "Phase D"
    title: "Capture Flow (Desktop + Mobile)"
    priority: "P1"
    status: "done"
    tasks:
      - id: "D1"
        title: "Quick capture flow"
        status: "done"
        notes: "Added quick capture input/action on desktop header and mobile top section with AI classify + auto-save."
      - id: "D2"
        title: "Triage list for low-confidence classification"
        status: "done"
        notes: "Low-confidence captures are tagged triage-pending and shown in Agent tab with resolve actions."
  - id: "Phase E"
    title: "Automation + Heartbeat"
    priority: "P1"
    status: "done"
    tasks:
      - id: "E1"
        title: "Heartbeat contract"
        status: "done"
        notes: "Added docs/HEARTBEAT.md + heartbeat runtime script and markdown output."
      - id: "E2"
        title: "Scheduled jobs and approval gates"
        status: "done"
        notes: "Added cron-agent-daily/cron-heartbeat endpoints and approval gate controls via env."
  - id: "Phase F"
    title: "OpenClaw / External Agent Integration"
    priority: "P2"
    status: "done"
    tasks:
      - id: "F1"
        title: "Inbound job queue schema + API contract"
        status: "done"
        notes: "Added migration + APIs for create/list/approve/claim/finish."
      - id: "F2"
        title: "Audit trail per job/action"
        status: "done"
        notes: "Added external_agent_actions + RPC atomic writes. Verified APPROVED->CLAIMED->DONE action trail."
  - id: "Phase G"
    title: "Personal Ops + Finance Autopilot"
    priority: "P2"
    status: "done"
    tasks:
      - id: "G1"
        title: "Weekly personal ops review"
        status: "done"
        notes: "Added weekly ops review runtime + cron endpoint + persisted WEEKLY summary."
      - id: "G2"
        title: "Automation ROI/KPI dashboard"
        status: "done"
        notes: "Added KPI cards in Agent tab (overdue, triage backlog, net30d, automation success rate)."
